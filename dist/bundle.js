!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=1)}([function(e,t){function n(e,t,n){var o,r,c,a,i;function l(){var s=Date.now()-a;s<t&&s>=0?o=setTimeout(l,t-s):(o=null,n||(i=e.apply(c,r),c=r=null))}null==t&&(t=100);var s=function(){c=this,r=arguments,a=Date.now();var s=n&&!o;return o||(o=setTimeout(l,t)),s&&(i=e.apply(c,r),c=r=null),i};return s.clear=function(){o&&(clearTimeout(o),o=null)},s.flush=function(){o&&(i=e.apply(c,r),c=r=null,clearTimeout(o),o=null)},s}n.debounce=n,e.exports=n},function(e,t,n){"use strict";n.r(t);const o=(e,t)=>{if(e.parentNode){const n=e.parentNode.querySelectorAll("."+t.styles.settingsButton);Array.from(n).forEach(e=>e.classList.remove(t.styles.settingsButtonActive))}e.classList.add(t.styles.settingsButtonActive)},r=e=>{const t=document.createRange(),n=window.getSelection();t.selectNodeContents(e),t.collapse(!1),n.removeAllRanges(),n.addRange(t)},c=e=>{let t,n;if(window.getSelection&&(t=window.getSelection()).getRangeAt&&t.rangeCount){(n=t.getRangeAt(0)).deleteContents();const a=document.createElement("div");a.innerHTML=e;for(var o,r,c=document.createDocumentFragment();o=a.firstChild;)r=c.appendChild(o);n.insertNode(c),r&&((n=n.cloneRange()).setStartAfter(r),n.collapse(!0),t.removeAllRanges(),t.addRange(n))}},a=function(e){if(document.body.createTextRange){const t=document.body.createTextRange();t.moveToElementText(e),t.select()}else if(window.getSelection){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}else console.warn("Could not select text in node: Unsupported browser.")},i="cdx-mention",l="cdx-marker",s="inline-code",d="&nbsp;",u="inline_tmp_anchor",f="@",m="HEADER_1",p="HEADER_2",g="HEADER_3",y="UNORDERED_LIST",b="ORDERED_LIST",v="QUOTE",h="CODE",D={BOLD:new RegExp(/\*\*([\S]{1,})\*\*/),ITALIC:new RegExp(/__([\S]{1,})__/),MARKER:new RegExp(/==([\S]{1,})==/),INLINE_CODE:new RegExp(/\`([\S]{1,})\`/)},x=function(e){return{md:e[0],content:e[1],isValid:!0}},E=e=>{switch(e){case m:return{type:"header",toolData:{level:1},config:{}};case p:return{type:"header",toolData:{level:2},config:{}};case g:return{type:"header",toolData:{level:3},config:{}};case y:return{type:"list",toolData:{style:"unordered"},config:{}};case b:return{type:"list",toolData:{style:"ordered"},config:{}};case v:return{type:"quote",toolData:{},config:{}};case h:return{type:"code",toolData:{},config:{}};default:return{isInvalid:!1,type:"",toolData:"",config:""}}},k=(e,t)=>{const n=t.blocks.getCurrentBlockIndex(),o=t.blocks.getBlockByIndex(n),{isValidMDStatus:r,MDType:c}=((e,t)=>{const n=e.textContent.trim();let o=!0,r="";const c=" "===t;if(n.length>7)return{isValidMDStatus:!1,MDType:r};switch(!0){case"#"===n&&c:r=m;break;case"##"===n&&c:r=p;break;case("###"===n||"####"===n||"#####"===n||"######"===n)&&c:r=g;break;case"-"===n&&c:r=y;break;case"1"===n&&c:r=b;break;case">"===n&&c:r=v;break;case"```"===n:r=h;break;default:o=!1}return{isValidMDStatus:o,MDType:r}})(o,e.data);if(!r)return!1;const{isInvalid:a,type:i,toolData:l,config:s}=E(c);console.log("markdownBlockConfig(MDType) -> ",E(c)),a||(t.blocks.delete(n),t.blocks.insert(i,l,s,n),t.caret.setToBlock(n,"start"))},w=(e,t)=>{const n=t.blocks.getCurrentBlockIndex(),o=t.blocks.getBlockByIndex(n),{isValid:r,md:i,html:f}=((e,t)=>{const n=e.textContent.trim(),{BOLD:o,ITALIC:r,MARKER:c,INLINE_CODE:a}=D,i=n.match(o);if(i){const{isValid:e,md:t,content:n}=x(i);return{isValid:e,md:t,html:`<b>${n}</b>`}}const d=n.match(c);if(d){const{isValid:e,md:t,content:n}=x(d);return{isValid:e,md:t,html:`<mark class=${l}>${n}</mark>`}}const u=n.match(r);if(u){const{isValid:e,md:t,content:n}=x(u);return{isValid:e,md:t,html:`<i>${n}</i>`}}const f=n.match(a);if(f){const{isValid:e,md:t,content:n}=x(f);return{isValid:e,md:t,html:`<code class=${s}>${n}</code>`}}return{isValid:!1,text:""}})(o,e.data);if(r){c(`<span id="${u}" />`),e.target.innerHTML=e.target.innerHTML.replace(i,f),a(document.querySelector(`#${u}`)),document.querySelector(`#${u}`).remove(),c(d)}};var R=e=>{if(e.data===f){const e=`<span class="${i}" contenteditable="false" id="${i}" tabindex="1">&nbsp;</span>`,t=`#${i}`;c(e),c(d),c(d);const n=document.querySelector(t).parentElement;n.innerHTML=n.innerHTML.replace(f+e,e),a(document.querySelector(t))}},S=n(0),T=n.n(S);const A=function(e,t,n){let o=document.createElement("script");o.src=e,o.onload=t,o.onreadystatechange=t,n.appendChild(o)},C=(e,t=null,n={})=>{let o=document.createElement(e);Array.isArray(t)?o.classList.add(...t):t&&o.classList.add(t);for(let e in n)"placeholder"===e?o.setAttribute("placeholder",n[e]):0===e.indexOf("data-")?o.setAttribute(e,n[e]):o[e]=n[e];return o},M=e=>{for(var t in e)return!1;return!0},_=(e,t)=>{const{length:n}=e;let o=-1;for(;++o<n;)if(t(e[o],o,e))return o;return-1},I=(e,t,n={})=>{const o=Object.assign({markdown:!1,inlineMarkdown:!0,mention:!0,emoji:!0},n);t.listeners.on(e,"input",e=>T()(((e,t,n)=>{n.markdown&&k(e,t),n.inlineMarkdown&&w(e,t),n.mention&&R(e)})(e,t,o),100),!0)};n.d(t,"debounce",function(){return S.debounce}),n.d(t,"loadJS",function(){return A}),n.d(t,"make",function(){return C}),n.d(t,"isEmptyObj",function(){return M}),n.d(t,"findIndex",function(){return _}),n.d(t,"highlightSettingIcon",function(){return o}),n.d(t,"moveCaretToEnd",function(){return r}),n.d(t,"selectNode",function(){return a}),n.d(t,"insertHtmlAtCaret",function(){return c}),n.d(t,"enhanceBlock",function(){return I})}])});